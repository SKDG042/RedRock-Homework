# é¡¹ç›®åŸºäºGolang,MySQLå’ŒHertzæ¡†æ¶å®ç°ç•™è¨€æ¿åŠŸèƒ½ 



## 1. ç”¨æˆ·æ³¨å†Œ

**URL**: `/register`

**æ–¹æ³•**: `POST`

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å   | ç±»å‹  | è¯´æ˜   |
| :------: | :----:| :----: |
| nickname| string|ç”¨æˆ·å|
| username |string|è´¦å·|
| password |string|å¯†ç |

**è¯·æ±‚ç¤ºä¾‹**

```json
{
    "nickname": "042",
    "username": "042",
    "password": "123123"
}
```





**å“åº”å‚æ•°ï¼š**

| å‚æ•°å  |  ç±»å‹  |     è¯´æ˜     |
| :-----: | :----: | :----------: |
| message | string | æˆåŠŸæ³¨å†Œç”¨æˆ· |

```json
{
    "message": "æˆåŠŸæ³¨å†Œç”¨æˆ·"
}
```

**é”™è¯¯å“åº”**

| çŠ¶æ€ç  |      è¯´æ˜      |
| :----: | :------------: |
|  400   |  è¯·æ±‚å‚æ•°é”™è¯¯  |
|  500   | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

## 2.ç”¨æˆ·ç™»å½•

**URL:** `/login`

**æ–¹æ³•:** `POST`

**è¯·æ±‚å‚æ•°**:

|  å‚æ•°å  |  ç±»å‹  | è¯´æ˜ |
| :------: | :----: | :--: |
| username | string | è´¦å· |
| password | string | å¯†ç  |

**è¯·æ±‚ç¤ºä¾‹:**

```json
{
    "username":"042",
    "password": "123123"
}
```



**å“åº”å‚æ•°:**

|  å‚æ•°   |  ç±»å‹  |   è¯´æ˜   |
| :-----: | :----: | :------: |
| message | string | ç™»é™†æˆåŠŸ |

```json
{
    "message":"ç™»é™†æˆåŠŸ"
}
```
**é”™è¯¯å“åº”**

| çŠ¶æ€ç  |      è¯´æ˜      |
| :----: | :------------: |
|  400   |  è¯·æ±‚å‚æ•°é”™è¯¯  |
|  500   | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |



## 3. å‘è¡¨ç•™è¨€

**URL**: `/message`

**æ–¹æ³•**: `POST`

**è¯·æ±‚å‚æ•°**:

|  å‚æ•°å   |  ç±»å‹  |       è¯´æ˜       |
| :-------: | :----: | :--------------: |
|  user_id  |  int   |      ç”¨æˆ·ID      |
|  content  | string |     ç•™è¨€å†…å®¹     |
| parent_id |  int   | çˆ¶æ¶ˆæ¯IDï¼ˆå¯é€‰ï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**

```json
{
    "user_id": 1,
    "content": "æˆ‘çˆ±ä½  Ich Liebe Dich",
    "parent_id": 0
}
```

**å“åº”å‚æ•°ï¼š**

| å‚æ•°å  |  ç±»å‹  |     è¯´æ˜     |
| :-----: | :----: | :----------: |
| message | string | æˆåŠŸå‘è¡¨ç•™è¨€ |

```json
{
    "message": "æˆåŠŸå‘è¡¨ç•™è¨€"
}
```

**é”™è¯¯å“åº”**

| çŠ¶æ€ç  |      è¯´æ˜      |
| :----: | :------------: |
|  400   |  è¯·æ±‚å‚æ•°é”™è¯¯  |
|  500   | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |



## 4. è·å–æ‰€æœ‰ç•™è¨€

**URL**: `/message`

**æ–¹æ³•**: `GET`

**è¯·æ±‚å‚æ•°**: æ— 

**å“åº”å‚æ•°**:

|   å‚æ•°å   |     ç±»å‹      |    è¯´æ˜    |
| :--------: | :-----------: | :--------: |
|     id     |      int      |  æ¶ˆæ¯çš„ID  |
|  user_id   |      int      |  ç”¨æˆ·çš„ID  |
|  content   |    string     |  æ¶ˆæ¯å†…å®¹  |
| created_at |    string     |  åˆ›å»ºæ—¶é—´  |
| updated_at |    string     |  æ›´æ–°æ—¶é—´  |
| is_deleted |     bool      |  æ˜¯å¦åˆ é™¤  |
| parent_id  | sql.NullInt64 | çˆ¶æ¶ˆæ¯çš„ID |

**å“åº”ç¤ºä¾‹**

```json
[
    {
        "id": 1,
        "user_id": 1,
        "content": "æˆ‘çˆ±ä½  Ich Liebe Dich",
        "created_at": "2024-10-01T12:00:00Z",
        "updated_at": "2024-10-01T12:00:00Z",
        "is_deleted": false,
        "parent_id": {
            "Int64": 0,
            "Valid": false
        }
    }
]
```

**é”™è¯¯å“åº”**

| çŠ¶æ€ç  |      è¯´æ˜      |
| :----: | :------------: |
|  500   | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |



## 5. åˆ é™¤ç•™è¨€

**URL**: `/message`

**æ–¹æ³•**: `DELETE`

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ |   è¯´æ˜   |
| :----: | :--: | :------: |
|   id   | int  | ç•™è¨€çš„ID |

**è¯·æ±‚ç¤ºä¾‹**

```http
DELETE /message?id=1 HTTP/1.1
Host: example.com
```

**å“åº”å‚æ•°ï¼š**

| å‚æ•°å  |  ç±»å‹  |     è¯´æ˜     |
| :-----: | :----: | :----------: |
| message | string | æˆåŠŸåˆ é™¤ç•™è¨€ |

```json
{
    "message": "æˆåŠŸåˆ é™¤ç•™è¨€"
}
```

**é”™è¯¯å“åº”**

| çŠ¶æ€ç  |      è¯´æ˜      |
| :----: | :------------: |
|  400   |  è¯·æ±‚å‚æ•°é”™è¯¯  |
|  500   | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

ğŸ³ å‰©ä¸‹çš„æ˜å¤©ç»§ç»­



